<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  </head>
  <body>
    <script>

      const txt = document.getElementById("txt");

      //カウント変数
      let get_point = 0; //獲得ポイント

      // テキストを更新する関数
      function updateText() { 
       txt.setAttribute('value', `point: ${get_point}`);      
      }

      // ２秒フォーカスでオブジェクトが消える
      AFRAME.registerComponent("my-mouse", {

        init: function () {
          this.el.addEventListener("mouseenter", function (evt) {
            mouseEnterTimeout = setTimeout(() => {
              this.remove();
            // this.setAttribute("color", "green");
            }, 2000); // ２秒後に変化
          });

          this.el.addEventListener("mouseleave", function (evt) {
            clearTimeout(mouseEnterTimeout);
            this.setAttribute("color", "red");
          });
        }
      });

      // 初期テキスト設定 
      updateText();


    </script>
<!-- /////////////////////////////////////////java -->
  <a-scene>
    <a-camera>
      <a-cursor></a-cursor>
    </a-camera>

      <!-- 背景の設定 -->
    <a-light
      type="directional"
      intensity="1.0"
      position="10 100 30"
      ></a-light>
      <a-light type="ambient" intensity="0.2" color="#404040"></a-light>
      <a-sky src="yakei_360.jpg" rotation="0 180 0"></a-sky>


      <!-- 床 -->
      <!-- <a-plane
        position="0 0 -5"
        rotation="-90 0 0"
        width="6"
        height="6"
        color="#7BC8A4"
      ></a-plane> -->

      

      
    <!-- 赤い箱 -->
     <!-- xyz -->
    <a-box
    id="box1"
    my-mouse
    position="0 1 -3"
    color="red"
    animation="property:position; from:0 1 -3; to:0 1 -8;  dur:2500; dir:alternate; loop:true; easing:linear;"
    ></a-box>
   
    <!-- 青い箱 -->
    <a-box
    id="box2"
    my-mouse
    position="3 3 -3"
    color="blue"
    animation="property:position; from:3 3 -3; to:3 5 -10;  dur:1500; dir:alternate; loop:true; easing:linear;"
    ></a-box>

    <!-- 黄色い箱 -->
    <a-box
    id="box3"
    my-mouse
    position="-3 8 -8"
    color="yellow"
    animation="property: rotation; to: 0 360 0; dur: 10000; loop: true; easing: linear;"
    ></a-box>
<!-- 緑の箱 -->
<a-box
id="box4"
position="-4 5 -5"
color="#228b22"
animation="property: rotation; to: 0 360 0; dur: 10000; loop: true; easing: linear;"
></a-box>

<!-- 紫の箱 -->
<a-box
id="box5"
position="-5 1 -5"
color="#ba55d3"
animation="property:position; from:-5 1 -3; to:-5 8 -3;  dur:2500; dir:alternate; loop:true; easing:linear;"
></a-box>

 <!-- 水色の箱 -->
 <a-box
 id="box6"
 position="5 6 -6"
 color="#00bfff"
 animation="property: rotation; to: 0 360 0; dur: 10000; loop: true; easing: linear;"
 ></a-box>

  <!-- ベージュの箱 -->
<a-box
id="box7"
position="-5 2 -10"
color="#ffdab9"
animation="property: rotation; to: 0 360 0; dur: 10000; loop: true; easing: linear;"
></a-box>

<!-- ピンクの箱 -->
<a-box
id="box8"
position="4 10 -10"
color="#ff69b4"
animation="property: rotation; to: 0 360 0; dur: 10000; loop: true; easing: linear;"
></a-box>

<!-- 薄黄色の箱 -->
<a-box
id="box9"
position="4 10 -10"
color="#ffffe0"
animation="property:position; from:10 12 -10; to:-10 12 -10;  dur:2300; dir:alternate; loop:true; easing:linear;"
></a-box>

<!-- オレンジの箱 -->
<a-box
id="box10"
position="6 6 -6"
color="#ff8c00"
animation="property:position; from:6 6 -6; to:-10 10 -10;  dur:2300; dir:alternate; loop:true; easing:linear;"
></a-box>


<!-- ポイントのテキスト表示 -->
<a-text
id="txt"
value=""
position="0 2.7 -2"
scale="2 2 2"
align="center"
color="#AA00FF"
></a-text>

 
    </a-scene>
  </body>
</html>
