<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>A-Frame Selectable Object with jQuery</title>
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
</head>
<body>
  <a-scene cursor="rayOrigin: mouse">

    <!-- 赤い箱 -->
     <!-- xyz -->
    <a-box
     id="box1"
     position="0 1 -3"
     color="red"
     animation="property:position; from:0 1 -3; to:0 1 -8;  dur:2000; dir:alternate; loop:true; easing:linear;"
     ></a-box>
    
     <!-- 青い箱 -->
     <a-box
     id="box2"
     position="3 3 -3"
     color="blue"
     animation="property:position; from:3 3 -3; to:3 5 -8;  dur:2000; dir:alternate; loop:true; easing:linear;"
     ></a-box>

    <a-entity id="ctlR" laser-controls="hand: right" raycaster="lineColor: red;"></a-entity>

    <!-- 背景の設定 -->
    <a-light
        type="directional"
        intensity="1.0"
        position="10 100 30"
      ></a-light>
      <a-light type="ambient" intensity="0.2" color="#404040"></a-light>
      <a-sky src="room.jpg" rotation="0 180 0"></a-sky>
    
    <!-- ポイントのテキスト表示 -->
     <a-text
     id="txt"
     value=""
     position="0 2.7 -2"
     scale="2 2 2"
     align="center"
     color="#AA00FF"
    ></a-text>
      
  </a-scene>

  <script>
    //カウント変数
    let get_point = 0; //獲得ポイント
    
    // テキストを更新する関数 
    function updateText() { 
      txt.setAttribute('value', `point: ${get_point}`); 
    }
    //クリックでオブジェクトを削除する
      $('#box1').on('click', function(e) {
      	this.remove();
        get_point++;
        updateText(); // テキストを更新
      });

      $('#box2').on('click', function(e) {
      	this.remove();
        get_point++;
        updateText()
      });

      $('#box3').on('click', function(e) {
      	this.remove();
        get_point++;
        updateText()
      });
    // 初期テキスト設定 
      updateText();

  </script>
</body>
</html>
